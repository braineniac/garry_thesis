\documentclass[class=article, crop=false]{standalone}
%\usepackage[subpreambles=true]{standalone}
\usepackage{import}
%\input{../packages}
\begin{document}
\pgfplotsset{width=14cm,compat=1.9}
\section{Floor Mapping}\label{sec:floor}

For our last experiment, we used the same setup as in Section \ref{sec:octagon} to see if our conclusions hold up in a more realistic test: mapping the floor of a corridor.

It is about 33 meters in length and 10 meters wide. We also drove through a small 10mx2m part on the left side. There were also some glass doors that had to be manuevered around.

\begin{center}
\begin{figure}[H]
 \begin{flushleft}
  \begin{tikzpicture}
   \begin{axis}[
     yticklabel style={
       /pgf/number format/fixed,
       /pgf/number format/precision=5
      },
     width=12cm,
     height=12cm,
     xtick distance = 2.5,
     ytick distance = 2.5,
     xlabel={x state [m]},
     ylabel={y state [m]},
     legend pos=north west,
     grid=both,
     grid style={
       line width=.1pt,
       draw=gray!10},
     major grid style={
       line width=.2pt,
       draw=gray!50
      },
    ]
    \addplot+[color=red, mark=none,line width=1pt,mark size=1pt, dashed] table {plots/floor_adapt_0_x0x1.csv};
    \addlegendentry{adaptive}
    \addplot+[color=blue, mark=none,line width=1pt,mark size=1pt] table {plots/floor_ekf_0_x0x1.csv};
    \addlegendentry{EKF}
   \end{axis}
  \end{tikzpicture}
 \end{flushleft}
 \caption{Floor experiment}\label{fig:floorxy}
\end{figure}
\end{center}

Figure \ref{fig:floorxy} clearly shows that EKF maps the floor way more accurately. We can still detect the floor shape with our adaptive Kalman Filter, because the inaccuracies come from our turns. Our accuracy with EKF is in the 1m radius from our original starting point.

\end{document}
